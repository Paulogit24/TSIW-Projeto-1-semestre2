<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <!-- Favicon & CSS -->
    <link rel="stylesheet" href="/accelair app/css/lib/accelair.css">
    <link rel="icon" href="/accelair app/img/icon.png"> 
    <!-- Tipo de letra -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Alexandria:wght@100..900&display=swap" rel="stylesheet">
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="/accelair app/html/admin/adminview2.js" defer></script>
    <title>AccelAir</title>
</head>
<body>

<div class="container-fluid position-relative" id="navbar">
  <nav class="navbar navbar-expand-sm justify-content-center fixed-top bg-white" style="z-index: 1030;">
    <a class="navbar-brand position-absolute" style="left: 20px;" href="../../index.html">
      <img src="/accelair app/img/accel-air.png" alt="Logotipo" width="100">
    </a>
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link text-dark" href="/accelair app/html/destinos/maisvendidos.html">Mais vendidos</a>
      </li>
      <li class="nav-item">
        <a class="nav-link text-dark" href="/accelair app/html/destinos/ofertasexclusivas.html">Ofertas exclusivas</a>
      </li>
      <li class="nav-item">
        <a class="nav-link text-dark" href="/accelair app/html/destinos/tiposdeturismo.html">Tipos de turismo</a>
      </li>
      <li class="nav-item">
        <a class="nav-link text-dark" href="/accelair app/html/sobrenos.html">Sobre nós</a>
      </li>
    </ul>
    <a class="nav-link text-dark position-absolute" style="right: 20px;" href="login.html">
      Iniciar sessão
    </a>
  </nav>
</div>

<div class="container pt-5 mt-5">
  <h5 class="mb-4 font-weight-bold">Dashboard</h5>
  <div class="row mb-3">
    <div class="col-md-6 mb-3">
      <canvas id="graficoUtilizadores" class="rounded shadow-sm w-100"></canvas>
      <p class="text-center mt-2">(gráfico com o nº de utilizadores da aplicação)</p>
    </div>
    <div class="col-md-6 mb-3">
      <canvas id="graficoViagens" class="rounded shadow-sm w-100"></canvas>
      <p class="text-center mt-2">(gráfico com o nº de viagens compradas)</p>
    </div>
  </div>
  <div class="row mb-4">
    <div class="col-md-6 offset-md-3">
      <canvas id="graficoTipos" class="rounded shadow-sm w-100" style="height:300px;"></canvas>
      <p class="text-center mt-2">(gráfico com os tipos de turismo mais populares)</p>
    </div>
  </div>
  <div class="text-center mb-4">
    <button class="btn btn-danger mx-2" data-toggle="modal" data-target="#modalVoos">VOOS</button>
    <button class="btn btn-danger mx-2" data-toggle="modal" data-target="#modalDestinos">DESTINOS</button>
    <button class="btn btn-danger mx-2" data-toggle="modal" data-target="#modalTipos">USERS</button>
  </div>
  <div class="bg-light rounded p-3">
    <h6 class="font-weight-bold">Pesquisas mais recentes</h6>
    <p>Local de partida; Data de partida; Nº pessoas; Dias de viagem; Tipo de turismo</p>
    <ul class="mb-0">
      <li>Porto, PT; 24.04.2025; 5; 10; Arquitectónico</li>
      <li>Porto, PT; 24.04.2025; 5; 10; Arquitectónico</li>
      <li>Porto, PT; 24.04.2025; 5; 10; Arquitectónico</li>
    </ul>
  </div>
</div>

<!-- Modais -->
<div class="modal fade" id="modalVoos" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Editar Voos</h5>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body">
        <form id="form-add-flight">
          <div class="form-row">
            <div class="form-group col-md-6">
              <input type="text" id="input-flight-number" class="form-control" placeholder="Nº do voo" required>
            </div>
            <div class="form-group col-md-6">
              <input type="text" id="input-airline" class="form-control" placeholder="Companhia aérea" required>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group col-md-6">
              <input type="text" id="input-origin" class="form-control" placeholder="Origem" required>
            </div>
            <div class="form-group col-md-6">
              <input type="text" id="input-destination" class="form-control" placeholder="Destino" required>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group col-md-6">
              <input type="datetime-local" id="input-departure" class="form-control" placeholder="Partida" required>
            </div>
            <div class="form-group col-md-6">
              <input type="datetime-local" id="input-arrival" class="form-control" placeholder="Chegada" required>
            </div>
          </div>
          <div class="form-group">
            <input type="number" id="input-price" class="form-control" placeholder="Preço" required>
          </div>
          <button type="submit" class="btn btn-primary w-100">Adicionar Voo</button>
        </form>
        <hr>
        <table class="table table-sm table-bordered mt-3" id="flights-table">
          <thead class="thead-light">
            <tr>
              <th>Nº Voo</th><th>Origem</th><th>Destino</th><th>Partida</th><th>Chegada</th><th>Companhia</th><th>Preço</th><th>Ações</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="modalDestinos" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Editar Destinos</h5>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body">
        <ul id="lista-destinos" class="list-group mb-3"></ul>
        <input type="text" id="novo-destino" class="form-control" placeholder="Novo destino">
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary" onclick="adicionarDestino()">Adicionar</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="modalTipos" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Editar Users</h5>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body">
        <ul id="lista-tipos" class="list-group mb-3"></ul>
        <input type="text" id="novo-tipo" class="form-control" placeholder="Novos Users">
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary" onclick="adicionarTipo()">Adicionar</button>
      </div>
    </div>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<!--<script>
  new Chart(document.getElementById('graficoUtilizadores'), {
    type: 'bar',
    data: {
      labels: ['Jan', 'Fev', 'Mar', 'Abr'],
      datasets: [{
        label: 'Utilizadores',
        data: [50, 75, 150, 100],
        backgroundColor: 'rgba(220,53,69,0.5)',
        borderColor: 'rgba(220,53,69,1)',
        borderWidth: 2
      }]
    },
    options: {
      responsive: true,
      scales: {
        y: { beginAtZero: true }
      }
    }
  });

  new Chart(document.getElementById('graficoViagens'), {
    type: 'line',
    data: {
      labels: ['Jan', 'Fev', 'Mar', 'Abr'],
      datasets: [{
        label: 'Viagens Compradas',
        data: [30, 60, 90, 120],
        backgroundColor: 'rgba(40,167,69,0.2)',
        borderColor: 'rgba(40,167,69,1)',
        borderWidth: 2,
        fill: true
      }]
    },
    options: {
      responsive: true,
      scales: {
        y: { beginAtZero: true }
      }
    }
  });

  new Chart(document.getElementById('graficoTipos'), {
    type: 'pie',
    data: {
      labels: ['Arquitectónico', 'Praia', 'Aventura', 'Cultural'],
      datasets: [{
        label: 'Tipos de Turismo',
        data: [40, 25, 20, 15],
        backgroundColor: [
          'rgba(255,99,132,0.6)',
          'rgba(54,162,235,0.6)',
          'rgba(255,206,86,0.6)',
          'rgba(75,192,192,0.6)'
        ],
        borderColor: [
          'rgba(255,99,132,1)',
          'rgba(54,162,235,1)',
          'rgba(255,206,86,1)',
          'rgba(75,192,192,1)'
        ],
        borderWidth: 1
      }]
    },
    options: {
      responsive: true
    }
  });

  const voos = window.voos;
  const destinos = window.destinos;
  const users = window.users;

  function renderizarLista(id, items) {
    const lista = document.getElementById(id);
    lista.innerHTML = "";
    items.forEach((item, i) => {
      const li = document.createElement("li");
      li.className = "list-group-item d-flex justify-content-between align-items-center";
      li.textContent = item;
      const btn = document.createElement("button");
      btn.className = "btn btn-sm btn-danger";
      btn.textContent = "Remover";
      btn.onclick = () => {
        items.splice(i, 1);
        renderizarLista(id, items);
      };
      li.appendChild(btn);
      lista.appendChild(li);
    });
  }

  $('#modalVoos').on('show.bs.modal', () => renderizarLista("lista-voos", voos));
  $('#modalDestinos').on('show.bs.modal', () => renderizarLista("lista-destinos", destinos));
  $('#modalTipos').on('show.bs.modal', () => renderizarLista("lista-tipos", users));

  function adicionarVoo() {
    const input = document.getElementById("novo-voo");
    if (input.value.trim()) {
      voos.push(input.value.trim());
      input.value = "";
      renderizarLista("lista-voos", voos);
    }
  }

  function adicionarDestino() {
    const input = document.getElementById("novo-destino");
    if (input.value.trim()) {
      destinos.push(input.value.trim());
      input.value = "";
      renderizarLista("lista-destinos", destinos);
    }
  }

  function adicionarTipo() {
    const input = document.getElementById("novo-tipo");
    if (input.value.trim()) {
      users.push(input.value.trim());
      input.value = "";
      renderizarLista("lista-tipos", users);
    }
  }
</script>-->

<script src="/accelair app/js/init.js"></script>

</body>
</html>